"use strict";(self.webpackChunkcompaneros_de_viaje_app=self.webpackChunkcompaneros_de_viaje_app||[]).push([[795],{795:(R,f,r)=>{r.r(f),r.d(f,{BookingModule:()=>V});var l=r(6895),p=r(5450),e=r(8256),g=r(5593);let T=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-layout"]],decls:10,vars:0,consts:[[1,"bg-white","py-3","px-2","sm:px-3","xl:px-4","shadow-1","flex","align-items-center","justify-content-between","relative"],[1,"w-3","font-bold","flex","align-items-center","justify-content-center"],["src","./assets/svg/log.svg","alt","Logo",1,"w-12"],[1,"w-6","font-bold","flex","align-items-center","justify-content-center"],["label","Inicio","styleClass","p-button-sm p-button-text p-button-plain","routerLink","/book/home"],["label","Lista","styleClass","p-button-sm p-button-text p-button-plain","routerLink","/book/list"],["label","Crear Grupo","styleClass","p-button-sm p-button-text p-button-plain","routerLink","/book/new-group"],[1,"w-3","font-bold","flex","align-items-center","justify-content-around"],["label","Logout","styleClass","p-button-sm p-button-outlined","routerLink","/auth/login"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"p-button",4)(5,"p-button",5)(6,"p-button",6),e.qZA(),e.TgZ(7,"div",7),e._UZ(8,"p-button",8),e.qZA()(),e._UZ(9,"router-outlet"))},dependencies:[p.lC,p.rH,g.zx]}),n})();var x=r(529);const v=r(2340).N.base_url;let d=(()=>{class n{constructor(t){this.http=t}createGroup(t){return this.http.post(`${v}/travel-group/create`,t)}getGroups(){const t=(new x.LE).set("page","0").set("size","15").set("sort","id,DESC");return this.http.get(`${v}/travel-group/find-travel-group`,{params:t})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=r(4082);let b=(()=>{class n{transform(t){const i=t.indexOf("T");return-1!==i?t.substring(0,i).trim():t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"extractDate",type:n,pure:!0}),n})();function D(n,o){if(1&n&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.ALo(7,"extractDate"),e.ALo(8,"extractDate"),e.qZA()(),e.TgZ(9,"div",10),e._uU(10),e.qZA(),e.TgZ(11,"div",7)(12,"div",9),e._uU(13),e.qZA(),e.TgZ(14,"div",9),e._uU(15),e.qZA()(),e.TgZ(16,"div",11),e._uU(17),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.destination," "),e.xp6(2),e.AsE(" ",e.lcZ(7,7,t.departureDate)," al ",e.lcZ(8,9,t.returnDate)," "),e.xp6(4),e.hij(" ",t.itinerary," "),e.xp6(3),e.hij(" M\xednimo de integrantes: ",t.minimumNumberOfMembers," "),e.xp6(2),e.hij(" Integrantes actuales: ",t.totalTravelers," "),e.xp6(2),e.hij(" Presupuesto: ",t.budget," ")}}let U=(()=>{class n{constructor(t){this.bookingService=t,this.groups=[]}ngOnInit(){this.getGroups()}getGroups(){this.bookingService.getGroups().subscribe({next:t=>{this.groups=t.content}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:1,consts:[[1,"py-3","px-3","sm:px-6","xl:px-8","flex","flex-wrap","align-items-center","justify-content-center","relative"],[1,"w-12","flex","align-items-center","p-2"],[1,"text-left","text-900","text-3xl","font-medium"],[1,"w-12","flex","flex-wrap"],["class","w-6 my-2 flex flex-column align-items-center justify-content-center",4,"ngFor","ngForOf"],[1,"w-6","my-2","flex","flex-column","align-items-center","justify-content-center"],[1,"w-11","shadow-2","surface-card","border-round","p-3"],[1,"w-12","flex","border-round","p-2"],[1,"w-6","text-xl","flex","align-items-center","font-medium"],[1,"w-6","text-base","flex","align-items-center","text-600"],[1,"w-12","text-base","flex","border-round","white-space-nowrap","overflow-hidden","text-overflow-ellipsis","p-2","text-600"],[1,"w-12","text-base","flex","border-round","p-2","text-600"]],template:function(t,i){1&t&&(e._UZ(0,"app-home-card"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2),e._uU(4,"Mis Grupos"),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,D,18,11,"div",4),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngForOf",i.groups))},dependencies:[l.sg,A.x,b]}),n})(),F=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"detail works!"),e.qZA())}}),n})();var y=r(1740),q=r(1989),h=r(5047),Z=r(585),s=r(433);function k(n,o){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"p-checkbox",28),e.TgZ(2,"label",29),e._uU(3),e.qZA()()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("value",t.name),e.xp6(2),e.Oqu(t.name)}}function j(n,o){if(1&n&&(e.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33),e._uU(4),e.qZA(),e.TgZ(5,"div",34),e._uU(6),e.ALo(7,"extractDate"),e.ALo(8,"extractDate"),e.qZA()(),e.TgZ(9,"div",35),e._uU(10),e.qZA(),e.TgZ(11,"div",32)(12,"div",34),e._uU(13),e.qZA(),e.TgZ(14,"div",34),e._uU(15),e.qZA()(),e.TgZ(16,"div",36),e._uU(17),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.destination," "),e.xp6(2),e.AsE(" ",e.lcZ(7,7,t.departureDate)," al ",e.lcZ(8,9,t.returnDate)," "),e.xp6(4),e.hij(" ",t.itinerary," "),e.xp6(3),e.hij(" M\xednimo de integrantes: ",t.minimumNumberOfMembers," "),e.xp6(2),e.hij(" Integrantes actuales: ",t.totalTravelers," "),e.xp6(2),e.hij(" Presupuesto: ",t.budget," ")}}let G=(()=>{class n{constructor(t){this.bookingService=t,this.groups=[],this.interests=[{name:"Playas"},{name:"Monta\xf1as"},{name:"Rios"},{name:"Eventos deportivos"},{name:"Eventos musicales"},{name:"turismo urbano"},{name:"Turismo nocturno"}]}ngOnInit(){this.getGroups()}getGroups(){this.bookingService.getGroups().subscribe({next:t=>{this.groups=t.content}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list"]],decls:40,vars:2,consts:[[1,"py-2","px-2","flex","align-items-center","shadow-5","my-4","mx-8","border-round-xl"],[1,"flex","flex-wrap","border-round","w-full"],[1,"w-12","sm:w-3","font-bold","p-2","flex","align-items-center","justify-content-center","sm:justify-content-start"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-map-marker"],["type","text","pInputText","","placeholder","Lugar de destino"],[1,"w-12","sm:w-2","font-bold","p-2","flex","align-items-center","justify-content-center","sm:justify-content-start"],[1,"pi","pi-calendar"],["aria-describedby","iDate","dateFormat","yy-mm-dd","inputId","iDate","dataType","string","styleClass","w-full","placeholder","Fecha inicio"],["aria-describedby","iDate","dateFormat","yy-mm-dd","inputId","iDate","dataType","string","styleClass","w-full","placeholder","Fecha final"],[1,"pi","pi-money-bill"],["mode","currency","currency","ARS","locale","es-AR","styleClass","w-full","formControlName","budget","placeholder","Presupuesto"],[1,"cursor-pointer","w-12","h-full","bg-cyan-600","hover:bg-cyan-700","border-none","border-round-xl"],[1,"py-3","px-3","sm:px-6","xl:px-8","flex","flex-wrap","align-items-center","justify-content-center","relative"],[1,"w-12","flex","align-items-center","pb-3","pl-4"],[1,"text-left","text-900","text-3xl","font-medium"],[1,"w-12","flex","flex-wrap","align-content-start"],[1,"w-3","flex","flex-column","px-4","pb-4"],[1,"w-12","shadow-4","surface-card","border-round-sm","flex","flex-column","align-items-center","justify-content-center"],[1,"w-12","border-round","p-3","flex","align-items-center","bg-primary-50"],[1,"px-1","font-medium","text-xl"],[1,"w-12","border-round","px-3","py-3","flex","flex-column","align-items-start"],["class","field-checkbox",4,"ngFor","ngForOf"],[1,"w-9"],[1,"w-12","flex","flex-wrap"],["class","w-6 my-2 flex flex-column align-items-center justify-content-center",4,"ngFor","ngForOf"],[1,"field-checkbox"],["name","group1","inputId","ny",3,"value"],["for","ny"],[1,"w-6","my-2","flex","flex-column","align-items-center","justify-content-center"],[1,"w-11","shadow-2","surface-card","border-round","p-3"],[1,"w-12","flex","border-round","p-2"],[1,"w-6","text-xl","flex","align-items-center","font-medium"],[1,"w-6","text-base","flex","align-items-center","text-600"],[1,"w-12","text-base","flex","border-round","white-space-nowrap","overflow-hidden","text-overflow-ellipsis","p-2","text-600"],[1,"w-12","text-base","flex","border-round","p-2","text-600"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._UZ(5,"i",5),e.qZA(),e._UZ(6,"input",6),e.qZA()(),e.TgZ(7,"div",7)(8,"div",3)(9,"span",4),e._UZ(10,"i",8),e.qZA(),e._UZ(11,"p-calendar",9),e.qZA()(),e.TgZ(12,"div",7)(13,"div",3)(14,"span",4),e._UZ(15,"i",8),e.qZA(),e._UZ(16,"p-calendar",10),e.qZA()(),e.TgZ(17,"div",2)(18,"div",3)(19,"span",4),e._UZ(20,"i",11),e.qZA(),e._UZ(21,"p-inputNumber",12),e.qZA()(),e.TgZ(22,"div",7)(23,"button",13),e._uU(24," Buscar "),e.qZA()()()(),e.TgZ(25,"div",14)(26,"div",15)(27,"div",16),e._uU(28,"Resultados"),e.qZA()(),e.TgZ(29,"div",17)(30,"div",18)(31,"div",19)(32,"div",20)(33,"span",21),e._uU(34,"Intereses"),e.qZA()(),e.TgZ(35,"div",22),e.YNc(36,k,4,2,"div",23),e.qZA()()(),e.TgZ(37,"div",24)(38,"div",25),e.YNc(39,j,18,11,"div",26),e.qZA()()()()),2&t&&(e.xp6(36),e.Q6J("ngForOf",i.interests),e.xp6(3),e.Q6J("ngForOf",i.groups))},dependencies:[l.sg,y.o,q.XZ,h.Rn,Z.f,s.JJ,s.u,b],styles:["[_nghost-%COMP%]     p-inputnumber, [_nghost-%COMP%]     .p-inputnumber{display:inline-flex;width:100%}"]}),n})();var I=r(519),L=r(8521),N=r(5722),E=r(3054);const a=function(n){return{"p-error block":n}},M=[{path:"",component:T,children:[{path:"home",component:U},{path:"detail/:id",component:F},{path:"list",component:G},{path:"new-group",component:(()=>{class n{constructor(t,i,u,m,c){this.fb=t,this.router=i,this.formValidator=u,this.bookService=m,this.toastService=c,this.body={destination:"",departureDate:"",returnDate:"",itinerary:"",budget:0,interests:[""],minimumNumberOfMembers:0},this.interests=[{name:"Playas"},{name:"Monta\xf1as"},{name:"Rios"},{name:"Eventos deportivos"},{name:"Eventos musicales"},{name:"turismo urbano"},{name:"Turismo nocturno"}],this.newGrpForm=this.fb.group({spot:["",[s.kI.required]],iDate:["",[s.kI.required]],fDate:["",[s.kI.required]],budget:["",[s.kI.required]],people:["",[s.kI.required]],interest:["",[s.kI.required]],plan:["",[s.kI.required]]})}ngOnInit(){}isValidField(t){return this.formValidator.isValidField(this.newGrpForm,t)}onSubmit(){if(this.newGrpForm.invalid)return this.newGrpForm.markAllAsTouched(),void this.markDirty();console.log(this.newGrpForm.value);const{spot:t,iDate:i,fDate:u,budget:m,people:c,interest:B,plan:P}=this.newGrpForm.value,Q=B.map(w=>w.name);this.body.destination=t,this.body.departureDate=`${i}T00:00:00`,this.body.returnDate=`${u}T00:00:00`,this.body.budget=m,this.body.minimumNumberOfMembers=c,this.body.itinerary=P,this.body.interests=Q,console.log(this.body),this.bookService.createGroup(this.body).subscribe({next:()=>{this.newGrpForm.reset(),this.toastService.showToast("success","Service Message","\xa1Excelente! Tu formulario ha sido registrado satisfactoriamente."),this.router.navigateByUrl("/book/home")},error:w=>{this.newGrpForm.reset(),this.toastService.showToast("error","Service Message","Los datos ingresados no son v\xe1lidos.")}})}markDirty(){this.newGrpForm.get("spot")?.markAsDirty(),this.newGrpForm.get("iDate")?.markAsDirty(),this.newGrpForm.get("fDate")?.markAsDirty(),this.newGrpForm.get("budget")?.markAsDirty(),this.newGrpForm.get("people")?.markAsDirty(),this.newGrpForm.get("interest")?.markAsDirty(),this.newGrpForm.get("plan")?.markAsDirty()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(p.F0),e.Y36(I.Q),e.Y36(d),e.Y36(L.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-group"]],decls:76,vars:26,consts:[[1,"py-3","px-3","sm:px-6","xl:px-8","flex","flex-wrap","align-items-center","justify-content-center","relative"],[1,"w-12","flex","align-items-center","pb-3","pl-4"],[1,"text-left","text-900","text-3xl","font-medium"],["autocomplete","off",1,"w-12","flex","flex-wrap","align-content-start",3,"formGroup","submit"],[1,"w-6","flex","flex-column","px-4","pb-4"],[1,"w-12","shadow-4","surface-card","border-round-sm","flex","flex-column","align-items-center","justify-content-center"],[1,"w-12","border-round","p-3","flex","align-items-center","bg-primary-50"],[1,"pi","pi-map-marker"],[1,"px-1","font-medium","text-xl"],[1,"w-12","border-round","px-3","pb-1","flex","align-items-center"],[1,"w-full"],[1,"py-1"],["for","spot",1,"block","text-900","font-medium","my-1"],["id","spot","type","text","pInputText","","formControlName","spot",1,"w-full","mb-1"],["id","spot",1,"hidden",3,"ngClass"],[1,"w-full","flex","flex-wrap"],[1,"w-6","align-items-center","justify-content-center"],[1,"pr-2"],["for","iDate",1,"block","text-900","font-medium","my-1"],["aria-describedby","iDate","dateFormat","yy-mm-dd","inputId","iDate","dataType","string","styleClass","w-full","formControlName","iDate"],["id","iDate",1,"hidden",3,"ngClass"],[1,"pl-2"],["for","fDate",1,"block","text-900","font-medium","my-1"],["aria-describedby","fDate","dateFormat","yy-mm-dd","inputId","fDate","dataType","string","styleClass","w-full","formControlName","fDate"],["id","fDate",1,"hidden",3,"ngClass"],["for","budget",1,"block","text-900","font-medium","my-1"],["mode","currency","currency","ARS","locale","es-AR","styleClass","w-full","formControlName","budget"],["id","budget",1,"hidden",3,"ngClass"],["for","people",1,"block","text-900","font-medium","my-1"],["inputId","minmax","inputId","minmax","mode","decimal","styleClass","w-full","formControlName","people",3,"min","max"],["id","people",1,"hidden",3,"ngClass"],[1,"w-12","border-round","px-3","pb-3","flex","align-items-center"],["for","interest",1,"block","text-900","font-medium","my-1"],["defaultLabel","Select","optionLabel","name","selectedItemsLabel","{0} items selected","styleClass","w-full","formControlName","interest",3,"options"],["id","interest",1,"hidden",3,"ngClass"],[1,"w-12","h-full","shadow-4","surface-card","border-round-sm","flex","flex-column"],[1,"pi","pi-paperclip"],["for","plan",1,"block","text-900","font-medium","my-1"],["rows","10","cols","30","pInputTextarea","","styleClass","w-full","formControlName","plan",1,"w-full",3,"autoResize"],["id","plan",1,"hidden",3,"ngClass"],[1,"w-12","font-bold","flex","align-items-center","justify-content-around"],["label","Cancelar","styleClass","p-button-sm p-button-outlined"],["type","submit","label","Crear grupo","styleClass","p-button-sm"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Nuevo grupo de viaje "),e.qZA()(),e.TgZ(4,"form",3),e.NdJ("submit",function(){return i.onSubmit()}),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"i",7),e.TgZ(9,"span",8),e._uU(10,"Destino"),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15,"Lugar de destino"),e.qZA(),e._UZ(16,"input",13),e.TgZ(17,"small",14),e._uU(18,"Este campo no puede estar vac\xedo."),e.qZA()()()(),e.TgZ(19,"div",9)(20,"div",15)(21,"div",16)(22,"div",17)(23,"label",18),e._uU(24,"Fecha inicio"),e.qZA(),e._UZ(25,"p-calendar",19),e.TgZ(26,"small",20),e._uU(27,"Este campo no puede estar vac\xedo."),e.qZA()()(),e.TgZ(28,"div",16)(29,"div",21)(30,"label",22),e._uU(31,"Fecha final"),e.qZA(),e._UZ(32,"p-calendar",23),e.TgZ(33,"small",24),e._uU(34,"Este campo no puede estar vac\xedo."),e.qZA()()()()(),e.TgZ(35,"div",9)(36,"div",15)(37,"div",16)(38,"div",17)(39,"label",25),e._uU(40,"Presupuesto"),e.qZA(),e._UZ(41,"p-inputNumber",26),e.TgZ(42,"small",27),e._uU(43,"Este campo no puede estar vac\xedo."),e.qZA()()(),e.TgZ(44,"div",16)(45,"div",21)(46,"label",28),e._uU(47,"Cantidad minima de integrantes"),e.qZA(),e._UZ(48,"p-inputNumber",29),e.TgZ(49,"small",30),e._uU(50,"Este campo no puede estar vac\xedo."),e.qZA()()()()(),e.TgZ(51,"div",31)(52,"div",10)(53,"div",11)(54,"label",32),e._uU(55,"Intereses"),e.qZA(),e._UZ(56,"p-multiSelect",33),e.TgZ(57,"small",34),e._uU(58,"Este campo no puede estar vac\xedo."),e.qZA()()()()()(),e.TgZ(59,"div",4)(60,"div",35)(61,"div",6),e._UZ(62,"i",36),e.TgZ(63,"span",8),e._uU(64,"Itinerario"),e.qZA()(),e.TgZ(65,"div",31)(66,"div",10)(67,"div",11)(68,"label",37),e._uU(69,"Itinerario propuesto"),e.qZA(),e._UZ(70,"textarea",38),e.TgZ(71,"small",39),e._uU(72,"Este campo no puede estar vac\xedo."),e.qZA()()()()()(),e.TgZ(73,"div",40),e._UZ(74,"p-button",41)(75,"p-button",42),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.newGrpForm),e.xp6(13),e.Q6J("ngClass",e.VKq(12,a,i.isValidField("spot"))),e.xp6(9),e.Q6J("ngClass",e.VKq(14,a,i.isValidField("iDate"))),e.xp6(7),e.Q6J("ngClass",e.VKq(16,a,i.isValidField("fDate"))),e.xp6(9),e.Q6J("ngClass",e.VKq(18,a,i.isValidField("budget"))),e.xp6(6),e.Q6J("min",0)("max",20),e.xp6(1),e.Q6J("ngClass",e.VKq(20,a,i.isValidField("people"))),e.xp6(7),e.Q6J("options",i.interests),e.xp6(1),e.Q6J("ngClass",e.VKq(22,a,i.isValidField("interest"))),e.xp6(13),e.Q6J("autoResize",!1),e.xp6(1),e.Q6J("ngClass",e.VKq(24,a,i.isValidField("plan"))))},dependencies:[l.mk,g.zx,y.o,N.NU,h.Rn,E.g,Z.f,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:["[_nghost-%COMP%]     p-inputnumber, [_nghost-%COMP%]     .p-inputnumber{display:inline-flex;width:100%}"]}),n})()},{path:"**",redirectTo:"home"}]}];let _=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(M),p.Bz]}),n})();var J=r(8788),S=r(4466);let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez]}),n})(),V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,_,J.g,s.UX,S.m,O]}),n})()}}]);