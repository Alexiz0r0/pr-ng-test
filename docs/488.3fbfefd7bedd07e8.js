"use strict";(self.webpackChunkcompaneros_de_viaje_app=self.webpackChunkcompaneros_de_viaje_app||[]).push([[488],{7266:(y,p,n)=>{n.d(p,{e:()=>_});var e=n(2340),u=n(8505),t=n(8256),l=n(529),s=n(3005);const r=e.N.base_url;let _=(()=>{class g{constructor(c,h){this.http=c,this.tokenService=h}get token(){return sessionStorage.getItem("token")??""}get hasToken(){return!!sessionStorage.getItem("token")}get isAdmin(){const c=sessionStorage.getItem("token");return!!c&&"ROLE_ADMIN"===this.tokenService.extractAuthority(c)}saveLocalStorage(c){sessionStorage.clear(),sessionStorage.setItem("token",c)}logout(){sessionStorage.removeItem("token")}login(c){return this.http.post(`${r}/api/auth/login`,c).pipe((0,u.b)(h=>{this.saveLocalStorage(h.token)}))}register(c){return this.http.post(`${r}/api/auth/register`,c).pipe((0,u.b)(h=>{this.saveLocalStorage(h.token)}))}}return g.\u0275fac=function(c){return new(c||g)(t.LFG(l.eN),t.LFG(s.B))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},3005:(y,p,n)=>{n.d(p,{B:()=>u});var e=n(8256);let u=(()=>{class t{decodeToken(s){const r=s.split(".");return JSON.parse(atob(r[1]))}extractAuthority(s){const _=this.decodeToken(s).role[0];return _?.authority?_.authority:null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},4722:(y,p,n)=>{n.d(p,{y:()=>u});var e=n(8256);let u=(()=>{class t{transform(s){const r=s?.indexOf("T");return void 0!==r&&-1!==r?s.substring(0,r).trim():s??""}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275pipe=e.Yjl({name:"extractDate",type:t,pure:!0}),t})()},9444:(y,p,n)=>{n.d(p,{D:()=>t});var e=n(6895),u=n(8256);let t=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=u.oAB({type:l}),l.\u0275inj=u.cJS({imports:[e.ez]}),l})()},9488:(y,p,n)=>{n.r(p),n.d(p,{DashboardModule:()=>w});var e=n(6895),u=n(6771),t=n(8256),l=n(6899);let s=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-layout"]],decls:2,vars:0,template:function(a,v){1&a&&t._UZ(0,"app-nav-bar")(1,"router-outlet")},dependencies:[u.lC,l.w],styles:["[_nghost-%COMP%]     .p-button.p-button-secondary, [_nghost-%COMP%]     .p-buttonset>.p-button.p-button-secondary, [_nghost-%COMP%]     .p-splitbutton>.p-button.p-button-secondary{color:#fff;background:#00a0b1;border:1px solid #00a0b1}[_nghost-%COMP%]     .p-button.p-button-secondary:enabled:hover, [_nghost-%COMP%]     .p-buttonset>.p-button.p-button-secondary:enabled:hover, [_nghost-%COMP%]     .p-splitbutton>.p-button.p-button-secondary:enabled:hover{background:#007d8a;border-color:#007d8a}[_nghost-%COMP%]     .p-button.p-button-outlined{background-color:transparent;color:#00a0b1;border:1px solid #00a0b1}[_nghost-%COMP%]     .p-button.p-button-outlined:enabled:hover{color:#007d8a;border-color:#007d8a}[_nghost-%COMP%]     p-inputnumber, [_nghost-%COMP%]     .p-inputnumber{display:inline-flex;width:100%}"]}),o})();var r=n(2340),_=n(529);const g=r.N.base_url;let f=(()=>{class o{constructor(a){this.http=a}getReadyGroups(){return this.http.get(`${g}/travel-group/find-completes-travel-groups`)}confirmGroups(a){return this.http.put(`${g}/travel-group/mark-as-negotiated?groupId=${a}`,null)}}return o.\u0275fac=function(a){return new(a||o)(t.LFG(_.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var c=n(8521),h=n(5593),T=n(805),m=n(1493),x=n(793),b=n(4722);function d(o,i){1&o&&t._uU(0," Listado de grupos completos ")}function C(o,i){1&o&&(t.TgZ(0,"tr")(1,"th",14),t._uU(2,"Destino"),t.qZA(),t.TgZ(3,"th",15),t._uU(4,"F. inicio"),t.qZA(),t.TgZ(5,"th",16),t._uU(6,"F. Finalizaci\xf3n"),t.qZA(),t.TgZ(7,"th",17),t._uU(8,"Miembros"),t.qZA(),t._UZ(9,"th",18),t.qZA())}function D(o,i){if(1&o){const a=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"extractDate"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"extractDate"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"p-button",19),t.NdJ("click",function(){const O=t.CHM(a).$implicit,N=t.oxw(2);return t.KtG(N.showJoinDialog(O.id))}),t.qZA()()()}if(2&o){const a=i.$implicit;t.xp6(2),t.Oqu(a.destination),t.xp6(2),t.Oqu(t.lcZ(5,5,a.departureDate)),t.xp6(3),t.Oqu(t.lcZ(8,7,a.returnDate)),t.xp6(3),t.AsE(" ",a.minimumNumberOfMembers,"/",a.totalTravelers," ")}}const P=function(){return{"min-width":"50rem"}};function L(o,i){if(1&o&&(t.TgZ(0,"div",9)(1,"p-table",10),t.YNc(2,d,1,0,"ng-template",11),t.YNc(3,C,10,0,"ng-template",12),t.YNc(4,D,13,9,"ng-template",13),t.qZA()()),2&o){const a=t.oxw();t.xp6(1),t.Q6J("value",a.groups)("tableStyle",t.DdM(2,P))}}function Z(o,i){if(1&o){const a=t.EpF();t.TgZ(0,"p-button",20),t.NdJ("click",function(){t.CHM(a);const M=t.oxw();return t.KtG(M.displayJoin=!1)}),t.qZA(),t.TgZ(1,"p-button",21),t.NdJ("click",function(){t.CHM(a);const M=t.oxw();return t.KtG(M.onJoinGroup())}),t.qZA()}}const A=function(){return{width:"25vw"}},E=function(){return{"960px":"90vw"}},k=[{path:"",component:s,children:[{path:"list",component:(()=>{class o{constructor(a,v){this.listService=a,this.toastService=v,this.groups=[],this.displayJoin=!1}ngOnInit(){this.getGroups()}getGroups(){this.listService.getReadyGroups().subscribe({next:a=>{this.groups=a.content}})}showJoinDialog(a){console.log(a),this.id=a,this.displayJoin=!0}onJoinGroup(){!this.id||this.listService.confirmGroups(this.id).subscribe({next:()=>{this.displayJoin=!1,this.toastService.showToast("success","Service Message","Registro exitoso."),this.getGroups()}})}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(f),t.Y36(c.k))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list"]],decls:11,vars:9,consts:[[3,"ngIf"],[3,"visible","breakpoints","draggable","resizable","visibleChange"],[1,"flex","flex-column","align-items-center","justify-content-center"],[1,"w-10","flex","align-items-center","justify-content-center"],[1,"pi","pi-user-plus","text-cyan-300",2,"font-size","10rem"],[1,"w-10","flex","flex-column","align-items-center","justify-content-center"],[1,"text-lg","font-semibold","my-1"],[1,"text-500","my-1"],["pTemplate","footer"],[1,"card"],[3,"value","tableStyle"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["id","co-1"],["id","co-2"],["id","co-3"],["id","co-4"],["id","co-5"],["label","Concretar viaje","styleClass","p-button-sm p-button-secondary",3,"click"],["label","Cancelar","styleClass","p-button-sm p-button-outlined",3,"click"],["label","Concretar","styleClass","p-button-sm p-button-secondary",3,"click"]],template:function(a,v){1&a&&(t.YNc(0,L,5,3,"ng-template",0),t.TgZ(1,"p-dialog",1),t.NdJ("visibleChange",function(O){return v.displayJoin=O}),t.TgZ(2,"div",2)(3,"div",3),t._UZ(4,"i",4),t.qZA(),t.TgZ(5,"div",5)(6,"p",6),t._uU(7,"\xbfConcretar viaje?"),t.qZA(),t.TgZ(8,"p",7),t._uU(9," Si concreta el viaje para este grupo el mismo pasara a este estado y todos los viajeros ser\xe1n notificado. "),t.qZA()()(),t.YNc(10,Z,2,0,"ng-template",8),t.qZA()),2&a&&(t.Q6J("ngIf",v.groups.length>0),t.xp6(1),t.Akn(t.DdM(7,A)),t.Q6J("visible",v.displayJoin)("breakpoints",t.DdM(8,E))("draggable",!1)("resizable",!1))},dependencies:[e.O5,h.zx,T.jx,m.V,x.iA,b.y]}),o})()},{path:"detail/:id",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-detail"]],decls:2,vars:0,template:function(a,v){1&a&&(t.TgZ(0,"p"),t._uU(1,"detail works!"),t.qZA())}}),o})()},{path:"**",redirectTo:"home"}]}];let B=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.Bz.forChild(k),u.Bz]}),o})();var U=n(3419),S=n(4466),I=n(9444);let w=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[e.ez,B,U.g,S.m,I.D]}),o})()},6899:(y,p,n)=>{n.d(p,{w:()=>T});var e=n(8256),u=n(7266),t=n(6771),l=n(6895),s=n(5593),r=n(805),_=n(1493);function g(m,x){if(1&m){const b=e.EpF();e.TgZ(0,"p-button",23),e.NdJ("click",function(){e.CHM(b);const C=e.oxw();return e.KtG(C.displayLogout=!1)}),e.qZA(),e.TgZ(1,"p-button",24),e.NdJ("click",function(){e.CHM(b);const C=e.oxw();return e.KtG(C.onLogoutDialog())}),e.qZA()}}const f=function(m){return{hidden:m}},c=function(){return{width:"25vw"}},h=function(){return{"960px":"90vw"}};let T=(()=>{class m{constructor(b,d){this.authService=b,this.router=d,this.hasToke=!1,this.displayLogout=!1}ngOnInit(){}get showLogoutBtn(){return this.authService.hasToken}get showDashboardBtn(){return this.authService.isAdmin}onSearch(){this.router.navigateByUrl(this.authService.hasToken?"/book/home":"/auth/login")}showLogoutDialog(){this.displayLogout=!0}onLogoutDialog(){sessionStorage.clear(),this.displayLogout=!1,this.router.navigateByUrl("/cdv/home")}}return m.\u0275fac=function(b){return new(b||m)(e.Y36(u.e),e.Y36(t.F0))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-nav-bar"]],decls:33,vars:20,consts:[["aria-label","Thirteenth navbar example",1,"navbar","navbar-expand-lg","bg-body-tertiary","rounded"],[1,"bg-white","py-3","px-2","sm:px-3","xl:px-4","shadow-1","flex","flex-wrap","align-items-center","justify-content-between","relative"],[1,"w-12","sm:w-3","font-bold","flex","align-items-center","justify-content-center"],["routerLink","/cdv/home"],["src","./assets/svg/log.svg","alt","Logo",1,"w-12"],["id","navbarsExample11",1,"w-4","sm:w-6","font-bold","flex","align-items-center","justify-content-center"],["routerLink","/cdv/home",1,"hidden","sm:block","button-nabvar"],[1,"button-nabvar",3,"click"],["routerLink","/cdv/about-us",1,"hidden","sm:block","button-nabvar"],["routerLink","/cdv/contact",1,"hidden","sm:block","button-nabvar"],[1,"w-8","sm:w-3","font-bold","flex","align-items-center","justify-content-around"],["routerLink","/auth/login",1,"button-su-li",3,"ngClass"],["routerLink","/auth/new-account",1,"button-su-li",3,"ngClass"],[1,"button-su-li",3,"ngClass","click"],["routerLink","/dashboard/list",1,"button-su-li",3,"ngClass"],[3,"visible","breakpoints","draggable","resizable","visibleChange"],[1,"flex","flex-column","align-items-center","justify-content-center"],[1,"w-10","flex","align-items-center","justify-content-center","mb-3"],[1,"pi","pi-sign-out","text-cyan-300",2,"font-size","10rem"],[1,"w-10","flex","flex-column","align-items-center","justify-content-center"],[1,"text-lg","font-semibold","my-1"],[1,"text-500","my-1"],["pTemplate","footer"],["label","Cancelar","styleClass","p-button-sm p-button-outlined",3,"click"],["label","Cerrar Sesi\xf3n","styleClass","p-button-sm p-button-secondary",3,"click"]],template:function(b,d){1&b&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"img",4),e.qZA()(),e.TgZ(5,"div",5)(6,"button",6),e._uU(7," Inicio "),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return d.onSearch()}),e._uU(9,"Buscar"),e.qZA(),e.TgZ(10,"button",8),e._uU(11," Sobre Nosotros "),e.qZA(),e.TgZ(12,"button",9),e._uU(13," Contacto "),e.qZA()(),e.TgZ(14,"div",10)(15,"button",11),e._uU(16," Inicar sesion "),e.qZA(),e.TgZ(17,"button",12),e._uU(18," Registrarse "),e.qZA(),e.TgZ(19,"button",13),e.NdJ("click",function(){return d.showLogoutDialog()}),e._uU(20," Logout "),e.qZA(),e.TgZ(21,"button",14),e._uU(22," Dashboard "),e.qZA()()()(),e.TgZ(23,"p-dialog",15),e.NdJ("visibleChange",function(D){return d.displayLogout=D}),e.TgZ(24,"div",16)(25,"div",17),e._UZ(26,"i",18),e.qZA(),e.TgZ(27,"div",19)(28,"p",20),e._uU(29,"\xbfCerrar Sesi\xf3n?"),e.qZA(),e.TgZ(30,"p",21),e._uU(31,"Desea terminar su sesi\xf3n"),e.qZA()()(),e.YNc(32,g,2,0,"ng-template",22),e.qZA()),2&b&&(e.xp6(15),e.Q6J("ngClass",e.VKq(10,f,d.showLogoutBtn)),e.xp6(2),e.Q6J("ngClass",e.VKq(12,f,d.showLogoutBtn)),e.xp6(2),e.Q6J("ngClass",e.VKq(14,f,!d.showLogoutBtn)),e.xp6(2),e.Q6J("ngClass",e.VKq(16,f,!d.showDashboardBtn)),e.xp6(2),e.Akn(e.DdM(18,c)),e.Q6J("visible",d.displayLogout)("breakpoints",e.DdM(19,h))("draggable",!1)("resizable",!1))},dependencies:[l.mk,s.zx,r.jx,t.rH,t.yS,_.V],styles:[".button-nabvar[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-radius:10em;font-size:13px;font-weight:600;padding:1em 2em;letter-spacing:1.5px;margin:4px;cursor:pointer;transition:all .3s ease-in-out;border:1px;box-shadow:0 0 #000}.button-nabvar[_ngcontent-%COMP%]:hover{transform:translateY(-4px) translate(-2px);box-shadow:2px 5px #00aaa7}.button-nabvar[_ngcontent-%COMP%]:active{transform:translateY(2px) translate(1px);box-shadow:0 0 #000}.button-su-li[_ngcontent-%COMP%]{padding:1.5em 2em;font-size:8px;margin:1px;text-transform:uppercase;letter-spacing:1.5px;font-weight:500;color:#000;background-color:#fff;border:none;border-radius:45px;box-shadow:0 8px 15px #0000001a;transition:all .3s ease 0s;cursor:pointer;outline:none}.button-su-li[_ngcontent-%COMP%]:hover{background-color:#00aaa7;box-shadow:0 15px 20px #00aaa7;color:#fff;transform:translateY(-7px)}[_nghost-%COMP%]     .p-button.p-button-secondary, [_nghost-%COMP%]     .p-buttonset>.p-button.p-button-secondary, [_nghost-%COMP%]     .p-splitbutton>.p-button.p-button-secondary{color:#fff;background:#00a0b1;border:1px solid #00a0b1}[_nghost-%COMP%]     .p-button.p-button-secondary:enabled:hover, [_nghost-%COMP%]     .p-buttonset>.p-button.p-button-secondary:enabled:hover, [_nghost-%COMP%]     .p-splitbutton>.p-button.p-button-secondary:enabled:hover{background:#007d8a;border-color:#007d8a}[_nghost-%COMP%]     .p-button.p-button-outlined{background-color:transparent;color:#00a0b1;border:1px solid #00a0b1}[_nghost-%COMP%]     .p-button.p-button-outlined:enabled:hover{color:#007d8a;border-color:#007d8a}[_nghost-%COMP%]     p-inputnumber, [_nghost-%COMP%]     .p-inputnumber{display:inline-flex;width:100%}"]}),m})()},4466:(y,p,n)=>{n.d(p,{m:()=>s});var e=n(6895),u=n(433),t=n(3419),l=n(8256);let s=(()=>{class r{}return r.\u0275fac=function(g){return new(g||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[e.ez,u.u5,t.g]}),r})()}}]);