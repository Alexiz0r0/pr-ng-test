"use strict";(self.webpackChunkcompaneros_de_viaje_app=self.webpackChunkcompaneros_de_viaje_app||[]).push([[558],{4558:(S,d,r)=>{r.r(d),r.d(d,{BookingModule:()=>N});var c=r(6895),l=r(5450),e=r(8256),f=r(5593);let b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-layout"]],decls:10,vars:0,consts:[[1,"bg-white","py-3","px-2","sm:px-3","xl:px-4","shadow-1","flex","align-items-center","justify-content-between","relative"],[1,"w-3","font-bold","flex","align-items-center","justify-content-center"],["src","./assets/svg/log.svg","alt","Logo",1,"w-12"],[1,"w-6","font-bold","flex","align-items-center","justify-content-center"],["label","Inicio","styleClass","p-button-sm p-button-text p-button-plain","routerLink","/book/home"],["label","Lista","styleClass","p-button-sm p-button-text p-button-plain","routerLink","/book/list"],["label","Crear Grupo","styleClass","p-button-sm p-button-text p-button-plain","routerLink","/book/new-group"],[1,"w-3","font-bold","flex","align-items-center","justify-content-around"],["label","Logout","styleClass","p-button-sm p-button-outlined","routerLink","/auth/login"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"p-button",4)(5,"p-button",5)(6,"p-button",6),e.qZA(),e.TgZ(7,"div",7),e._UZ(8,"p-button",8),e.qZA()(),e._UZ(9,"router-outlet"))},dependencies:[l.lC,l.rH,f.zx]}),t})(),v=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"home works!"),e.qZA())}}),t})(),y=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-detail"]],decls:2,vars:0,template:function(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"detail works!"),e.qZA())}}),t})(),h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list"]],decls:2,vars:0,template:function(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"list works!"),e.qZA())}}),t})();var s=r(433),x=r(519),C=r(2340),Z=r(529);const w=C.N.base_url;let T=(()=>{class t{constructor(o){this.http=o}createGroup(o){return this.http.post(`${w}/travel-group/create`,o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Z.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var D=r(8521),k=r(1740),F=r(5722),A=r(5047),U=r(3054),G=r(585);const a=function(t){return{"p-error block":t}},I=[{path:"",component:b,children:[{path:"home",component:v},{path:"detail/:id",component:y},{path:"list",component:h},{path:"new-group",component:(()=>{class t{constructor(o,i,p,m,u){this.fb=o,this.router=i,this.formValidator=p,this.bookService=m,this.toastService=u,this.body={destination:"",departureDate:"",returnDate:"",itinerary:"",budget:0,interests:[""],minimumNumberOfMembers:0},this.interests=[{name:"Playas"},{name:"Monta\xf1as"},{name:"Rios"},{name:"Eventos deportivos"},{name:"Eventos musicales"},{name:"turismo urbano"},{name:"Turismo nocturno"}],this.newGrpForm=this.fb.group({spot:["",[s.kI.required]],iDate:["",[s.kI.required]],fDate:["",[s.kI.required]],budget:["",[s.kI.required]],people:["",[s.kI.required]],interest:["",[s.kI.required]],plan:["",[s.kI.required]]})}ngOnInit(){}isValidField(o){return this.formValidator.isValidField(this.newGrpForm,o)}onSubmit(){if(this.newGrpForm.invalid)return this.newGrpForm.markAllAsTouched(),void this.markDirty();console.log(this.newGrpForm.value);const{spot:o,iDate:i,fDate:p,budget:m,people:u,interest:V,plan:E}=this.newGrpForm.value,J=V.map(g=>g.name);this.body.destination=o,this.body.departureDate=`${i}T00:00:00`,this.body.returnDate=`${p}T00:00:00`,this.body.budget=m,this.body.minimumNumberOfMembers=u,this.body.itinerary=E,this.body.interests=J,console.log(this.body),this.bookService.createGroup(this.body).subscribe({next:()=>{this.newGrpForm.reset(),this.toastService.showToast("success","Service Message","\xa1Excelente! Tu formulario ha sido registrado satisfactoriamente."),this.router.navigateByUrl("/book/home")},error:g=>{this.newGrpForm.reset(),this.toastService.showToast("error","Service Message","Los datos ingresados no son v\xe1lidos.")}})}markDirty(){this.newGrpForm.get("spot")?.markAsDirty(),this.newGrpForm.get("iDate")?.markAsDirty(),this.newGrpForm.get("fDate")?.markAsDirty(),this.newGrpForm.get("budget")?.markAsDirty(),this.newGrpForm.get("people")?.markAsDirty(),this.newGrpForm.get("interest")?.markAsDirty(),this.newGrpForm.get("plan")?.markAsDirty()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(l.F0),e.Y36(x.Q),e.Y36(T),e.Y36(D.k))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-new-group"]],decls:76,vars:26,consts:[[1,"py-3","px-3","sm:px-6","xl:px-8","flex","flex-wrap","align-items-center","justify-content-center","relative"],[1,"w-12","flex","align-items-center","pb-3","pl-4"],[1,"text-left","text-900","text-3xl","font-medium"],["autocomplete","off",1,"w-12","flex","flex-wrap","align-content-start",3,"formGroup","submit"],[1,"w-6","flex","flex-column","px-4","pb-4"],[1,"w-12","shadow-4","surface-card","border-round-sm","flex","flex-column","align-items-center","justify-content-center"],[1,"w-12","border-round","p-3","flex","align-items-center","bg-primary-50"],[1,"pi","pi-map-marker"],[1,"px-1","font-medium","text-xl"],[1,"w-12","border-round","px-3","pb-1","flex","align-items-center"],[1,"w-full"],[1,"py-1"],["for","spot",1,"block","text-900","font-medium","my-1"],["id","spot","type","text","pInputText","","formControlName","spot",1,"w-full","mb-1"],["id","spot",1,"hidden",3,"ngClass"],[1,"w-full","flex","flex-wrap"],[1,"w-6","align-items-center","justify-content-center"],[1,"pr-2"],["for","iDate",1,"block","text-900","font-medium","my-1"],["aria-describedby","iDate","dateFormat","yy-mm-dd","inputId","iDate","dataType","string","styleClass","w-full","formControlName","iDate"],["id","iDate",1,"hidden",3,"ngClass"],[1,"pl-2"],["for","fDate",1,"block","text-900","font-medium","my-1"],["aria-describedby","fDate","dateFormat","yy-mm-dd","inputId","fDate","dataType","string","styleClass","w-full","formControlName","fDate"],["id","fDate",1,"hidden",3,"ngClass"],["for","budget",1,"block","text-900","font-medium","my-1"],["mode","currency","currency","ARS","locale","es-AR","styleClass","w-full","formControlName","budget"],["id","budget",1,"hidden",3,"ngClass"],["for","people",1,"block","text-900","font-medium","my-1"],["inputId","minmax","inputId","minmax","mode","decimal","styleClass","w-full","formControlName","people",3,"min","max"],["id","people",1,"hidden",3,"ngClass"],[1,"w-12","border-round","px-3","pb-3","flex","align-items-center"],["for","interest",1,"block","text-900","font-medium","my-1"],["defaultLabel","Select","optionLabel","name","selectedItemsLabel","{0} items selected","styleClass","w-full","formControlName","interest",3,"options"],["id","interest",1,"hidden",3,"ngClass"],[1,"w-12","h-full","shadow-4","surface-card","border-round-sm","flex","flex-column"],[1,"pi","pi-paperclip"],["for","plan",1,"block","text-900","font-medium","my-1"],["rows","10","cols","30","pInputTextarea","","styleClass","w-full","formControlName","plan",1,"w-full",3,"autoResize"],["id","plan",1,"hidden",3,"ngClass"],[1,"w-12","font-bold","flex","align-items-center","justify-content-around"],["label","Cancelar","styleClass","p-button-sm p-button-outlined"],["type","submit","label","Crear grupo","styleClass","p-button-sm"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Nuevo grupo de viaje "),e.qZA()(),e.TgZ(4,"form",3),e.NdJ("submit",function(){return i.onSubmit()}),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"i",7),e.TgZ(9,"span",8),e._uU(10,"Destino"),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),e._uU(15,"Lugar de destino"),e.qZA(),e._UZ(16,"input",13),e.TgZ(17,"small",14),e._uU(18,"Este campo no puede estar vac\xedo."),e.qZA()()()(),e.TgZ(19,"div",9)(20,"div",15)(21,"div",16)(22,"div",17)(23,"label",18),e._uU(24,"Fecha inicio"),e.qZA(),e._UZ(25,"p-calendar",19),e.TgZ(26,"small",20),e._uU(27,"Este campo no puede estar vac\xedo."),e.qZA()()(),e.TgZ(28,"div",16)(29,"div",21)(30,"label",22),e._uU(31,"Fecha final"),e.qZA(),e._UZ(32,"p-calendar",23),e.TgZ(33,"small",24),e._uU(34,"Este campo no puede estar vac\xedo."),e.qZA()()()()(),e.TgZ(35,"div",9)(36,"div",15)(37,"div",16)(38,"div",17)(39,"label",25),e._uU(40,"Presupuesto"),e.qZA(),e._UZ(41,"p-inputNumber",26),e.TgZ(42,"small",27),e._uU(43,"Este campo no puede estar vac\xedo."),e.qZA()()(),e.TgZ(44,"div",16)(45,"div",21)(46,"label",28),e._uU(47,"Cantidad minima de integrantes"),e.qZA(),e._UZ(48,"p-inputNumber",29),e.TgZ(49,"small",30),e._uU(50,"Este campo no puede estar vac\xedo."),e.qZA()()()()(),e.TgZ(51,"div",31)(52,"div",10)(53,"div",11)(54,"label",32),e._uU(55,"Intereses"),e.qZA(),e._UZ(56,"p-multiSelect",33),e.TgZ(57,"small",34),e._uU(58,"Este campo no puede estar vac\xedo."),e.qZA()()()()()(),e.TgZ(59,"div",4)(60,"div",35)(61,"div",6),e._UZ(62,"i",36),e.TgZ(63,"span",8),e._uU(64,"Itinerario"),e.qZA()(),e.TgZ(65,"div",31)(66,"div",10)(67,"div",11)(68,"label",37),e._uU(69,"Itinerario propuesto"),e.qZA(),e._UZ(70,"textarea",38),e.TgZ(71,"small",39),e._uU(72,"Este campo no puede estar vac\xedo."),e.qZA()()()()()(),e.TgZ(73,"div",40),e._UZ(74,"p-button",41)(75,"p-button",42),e.qZA()()()),2&o&&(e.xp6(4),e.Q6J("formGroup",i.newGrpForm),e.xp6(13),e.Q6J("ngClass",e.VKq(12,a,i.isValidField("spot"))),e.xp6(9),e.Q6J("ngClass",e.VKq(14,a,i.isValidField("iDate"))),e.xp6(7),e.Q6J("ngClass",e.VKq(16,a,i.isValidField("fDate"))),e.xp6(9),e.Q6J("ngClass",e.VKq(18,a,i.isValidField("budget"))),e.xp6(6),e.Q6J("min",0)("max",20),e.xp6(1),e.Q6J("ngClass",e.VKq(20,a,i.isValidField("people"))),e.xp6(7),e.Q6J("options",i.interests),e.xp6(1),e.Q6J("ngClass",e.VKq(22,a,i.isValidField("interest"))),e.xp6(13),e.Q6J("autoResize",!1),e.xp6(1),e.Q6J("ngClass",e.VKq(24,a,i.isValidField("plan"))))},dependencies:[c.mk,f.zx,k.o,F.NU,A.Rn,U.g,G.f,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:["[_nghost-%COMP%]     p-inputnumber, [_nghost-%COMP%]     .p-inputnumber{display:inline-flex;width:100%}"]}),t})()},{path:"**",redirectTo:"home"}]}];let q=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(I),l.Bz]}),t})();var L=r(7721);let N=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,q,L.g,s.UX]}),t})()}}]);